<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>COSMOS</title>
  <style>
    @font-face {
      font-family: 'GounBatang';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunBatang-Regular.woff') format('woff');
      font-weight: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'GounBatang';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunBatang-Bold.woff') format('woff');
      font-weight: 700;
      font-display: swap;
    }

    :root{
      --mx: 50vw;
      --my: 50vh;
      --fade: 1;
    }
    html,body{
      margin:0; padding:0; height:100%; overflow:hidden;
      font-family: 'GounBatang', serif;
      display:flex; align-items:center; justify-content:center;
    }

    .background {
      position:fixed; inset:0;
      background: url('sky.gif') center/cover no-repeat;
      filter: brightness(0.2) sepia(0.25) hue-rotate(15deg) saturate(1.1);
      z-index:-1;
    }
    .container{
      position:relative; width:95%; height:90%;
      display:flex; align-items:center; justify-content:center;
    }
    .lyrics, .glow{
      width:100%; height:100%;
      display:flex; align-items:center; justify-content:center;
      text-align:center; white-space:normal; overflow:hidden;
      font-size:calc(1.2vw + 1.2vh);
      line-height:1.3; letter-spacing:0.12em;
      transition: opacity 0.6s ease;
    }
    .lyrics{
      color:rgba(200,200,200,0.35);
      opacity: var(--fade);
    }
    .glow{
      position:absolute; inset:0;
      color:#fff;
      -webkit-mask: radial-gradient(100px 100px at var(--mx) var(--my), rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%);
      mask: radial-gradient(100px 100px at var(--mx) var(--my), rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%);
      text-shadow:
        0 0 6px #fff,
        0 0 14px #ffe6aa,
        0 0 24px #ffcc66;
      pointer-events:none;
    }

    .audio-player {
      position:fixed;
      bottom:15px; left:50%; transform:translateX(-50%);
      width:320px;
      background:rgba(40,40,40,0.7);
      padding:8px 12px;
      border-radius:8px;
      display:flex;
      flex-direction:column;
      gap:6px;
      color:#fff;
      font-size:14px;
    }
    .controls {
      display:flex; align-items:center; gap:8px;
    }
    .controls button {
      background:none; border:none; color:#fff; font-size:16px; cursor:pointer;
    }
    .progress {
      flex:1;
    }
    .progress input[type=range] {
      width:100%;
      -webkit-appearance:none;
      height:4px;
      background:#777;
      border-radius:2px;
      cursor:pointer;
    }
    .progress input[type=range]::-webkit-slider-thumb {
      -webkit-appearance:none;
      width:12px; height:12px;
      border-radius:50%;
      background:#fff;
      cursor:pointer;
    }
    .progress input[type=range]::-moz-range-thumb {
      width:12px; height:12px;
      border-radius:50%;
      background:#fff;
      border:none;
      cursor:pointer;
    }
    .time {
      font-size:12px;
      min-width:70px;
      text-align:right;
      color:#ccc;
    }
    .title {
      text-align:center;
      font-size:13px;
      color:#fff;
    }
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="container" id="container">
    <div class="lyrics" id="base"></div>
    <div class="glow" id="glow"></div>
  </div>

  <div class="audio-player">
    <div class="title">B.I - COSMOS</div>
    <div class="controls">
      <button id="playBtn">▶</button>
      <div class="progress"><input type="range" id="seek" value="0" min="0" step="1"></div>
      <div class="time"><span id="current">0:00</span> / <span id="duration">0:00</span></div>
    </div>
    <audio id="player" src="cosmos.mp3"></audio>
  </div>

  <script>
    const LYRICS = `넌 늘 머리 위를 지나가는 뜬구름처럼 내 손에 닿지 마라 이 마음이 얼마나 당신을 좋아라 하는지 알지 마라 네가 준 외로움 괴로움 가슴 저림까지 전부 내가 사랑이라 부를 테니 조금의 여지만 주고 스쳐 가라 때로는 5월 같은 미소로 내 불안을 녹이고 때로는 1월 같은 눈빛으로 심장을 얼려줘 아찔한 혼란 속을 반갑게 허우적대며 일방적인 그리움에 젖은 채 노래를 불러 내 환상 속에 살아 숨을 쉬어줘 미지한 우주처럼 가질 수 없는 널 영원히 사랑할 수 있게 You are my cosmos 나의 우주야 쳐다볼 수조차 없게 그 눈부심을 잃지 마 You are my cosmos 나의 우주야 떨어지지 마라 나의 꽃잎아 (ha) She got 조화로운 이목구비 웃을 때 과즙상 fruity 꽃잎을 삼킨 듯한 목소리가 만들어낸 고고한 분위기 연약한 들숨 날숨에서조차 황홀한 감각을 느끼지 이 모든 게 미술관 그림 바라봄만으로 영감을 주지 나의 여왕 (hey) 무료한 하루를 채우는 유일한 열망 (hey) Give it to me 날 망가뜨릴 새로운 절망 (hey) 사랑에 눈을 뜬 동시에 makes me blind (hey) 내 환상 속에 살아 숨을 쉬어줘 미지한 우주처럼 가질 수 없는 널 영원히 사랑할 수 있게 You are my cosmos 나의 우주야 쳐다볼 수조차 없게 그 눈부심을 잃지 마 You are my cosmos 나의 우주야 떨어지지 마라 나의 꽃잎아 uh, uh, uh (yeah) You are my cosmos 나의 우주야 쳐다볼 수조차 없게 그 눈부심을 잃지 마 You are my cosmos (hey) 나의 우주야 떨어지지 마라 나의 꽃잎아`;

    const base = document.getElementById('base');
    const glow = document.getElementById('glow');
    const container = document.getElementById('container');
    base.textContent = LYRICS;
    glow.textContent = LYRICS;

    let ticking = false;
    let inside = false;

    function updatePos(x,y){
      if(!ticking){
        window.requestAnimationFrame(()=>{
          document.documentElement.style.setProperty('--mx', x + 'px');
          document.documentElement.style.setProperty('--my', y + 'px');
          document.documentElement.style.setProperty('--fade', inside ? 0.05 : 1);
          ticking = false;
        });
        ticking = true;
      }
    }

    document.addEventListener('mousemove', (e)=>{
      const rect = container.getBoundingClientRect();
      inside = e.clientX > rect.left && e.clientX < rect.right && e.clientY > rect.top && e.clientY < rect.bottom;
      updatePos(e.clientX, e.clientY);
    });
    document.addEventListener('mouseleave', ()=>{
      inside = false;
      document.documentElement.style.setProperty('--fade', 1);
    });
    document.addEventListener('touchmove', (e)=>{
      const t = e.touches[0];
      const rect = container.getBoundingClientRect();
      inside = t.clientX > rect.left && t.clientX < rect.right && t.clientY > rect.top && t.clientY < rect.bottom;
      updatePos(t.clientX, t.clientY);
    }, {passive:true});

    const player = document.getElementById('player');
    const playBtn = document.getElementById('playBtn');
    const seek = document.getElementById('seek');
    const current = document.getElementById('current');
    const duration = document.getElementById('duration');

    function formatTime(sec){
      const m = Math.floor(sec/60) || 0;
      const s = Math.floor(sec%60) || 0;
      return `${m}:${s.toString().padStart(2,'0')}`;
    }

    playBtn.addEventListener('click', ()=>{
      if(player.paused){
        player.play();
        playBtn.textContent = '⏸';
      } else {
        player.pause();
        playBtn.textContent = '▶';
      }
    });

    player.addEventListener('loadedmetadata', ()=>{
      seek.max = Math.floor(player.duration);
      duration.textContent = formatTime(player.duration);
    });

    player.addEventListener('timeupdate', ()=>{
      seek.value = player.currentTime;
      current.textContent = formatTime(player.currentTime);
    });

    seek.addEventListener('input', ()=>{
      player.currentTime = seek.value;
    });
  </script>
</body>
</html>
